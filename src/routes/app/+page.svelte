<script lang="ts">
	import AppSidebar from '$lib/components/app-sidebar.svelte';
	import * as Breadcrumb from '$lib/components/ui/breadcrumb/index.js';
	import { Separator } from '$lib/components/ui/separator/index.js';
	import * as Sidebar from '$lib/components/ui/sidebar/index.js';
	import * as NavigationMenu from '$lib/components/ui/navigation-menu/index.js';
	import { cn } from '$lib/utils/shadcn.js';
	import { navigationMenuTriggerStyle } from '$lib/components/ui/navigation-menu/navigation-menu-trigger.svelte';
	import type { HTMLAttributes } from 'svelte/elements';
	import CircleHelpIcon from '@lucide/svelte/icons/circle-help';
	import CircleIcon from '@lucide/svelte/icons/circle';
	import CircleCheckIcon from '@lucide/svelte/icons/circle-check';
	export let data;

	const components: { title: string; href: string; description: string }[] = [
		{
			title: 'Alert Dialog',
			href: '/docs/primitives/alert-dialog',
			description:
				'A modal dialog that interrupts the user with important content and expects a response.'
		},
		{
			title: 'Hover Card',
			href: '/docs/primitives/hover-card',
			description: 'For sighted users to preview content available behind a link.'
		},
		{
			title: 'Progress',
			href: '/docs/primitives/progress',
			description:
				'Displays an indicator showing the completion progress of a task, typically displayed as a progress bar.'
		},
		{
			title: 'Scroll-area',
			href: '/docs/primitives/scroll-area',
			description: 'Visually or semantically separates content.'
		},
		{
			title: 'Tabs',
			href: '/docs/primitives/tabs',
			description:
				'A set of layered sections of content—known as tab panels—that are displayed one at a time.'
		},
		{
			title: 'Tooltip',
			href: '/docs/primitives/tooltip',
			description:
				'A popup that displays information related to an element when the element receives keyboard focus or the mouse hovers over it.'
		}
	];

	type ListItemProps = HTMLAttributes<HTMLAnchorElement> & {
		title: string;
		href: string;
		content: string;
	};
</script>

{#snippet ListItem({ title, content, href, class: className, ...restProps }: ListItemProps)}
	<li>
		<NavigationMenu.Link>
			{#snippet child()}
				<a
					{href}
					class={cn(
						'hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground block space-y-1 rounded-md p-3 leading-none no-underline transition-colors outline-none select-none',
						className
					)}
					{...restProps}
				>
					<div class="text-sm leading-none font-medium">{title}</div>
					<p class="text-muted-foreground line-clamp-2 text-sm leading-snug">
						{content}
					</p>
				</a>
			{/snippet}
		</NavigationMenu.Link>
	</li>
{/snippet}

<Sidebar.Provider style="--sidebar-width: 19rem;">
	<Sidebar.Inset>
		<div  class="px-2 py-2">
			<NavigationMenu.Root viewport={false}>
				<NavigationMenu.List>
					<NavigationMenu.Item>
						<NavigationMenu.Trigger>Home</NavigationMenu.Trigger>
						<NavigationMenu.Content>
							<ul class="grid gap-2 p-2 md:w-[400px] lg:w-[500px] lg:grid-cols-[.75fr_1fr]">
								<li class="row-span-3">
									<NavigationMenu.Link
										class="from-muted/50 to-muted flex h-full w-full flex-col justify-end rounded-md bg-linear-to-b p-6 no-underline outline-hidden select-none focus:shadow-md"
									>
										{#snippet child({ props })}
											<a {...props} href="/">
												<div class="mt-4 mb-2 text-lg font-medium">shadcn-svelte</div>
												<p class="text-muted-foreground text-sm leading-tight">
													Beautifully designed components built with Tailwind CSS.
												</p>
											</a>
										{/snippet}
									</NavigationMenu.Link>
								</li>
								{@render ListItem({
									href: '/docs',
									title: 'Introduction',
									content: 'Re-usable components built using Bits UI and Tailwind CSS.'
								})}
								{@render ListItem({
									href: '/docs/installation',
									title: 'Installation',
									content: 'How to install dependencies and structure your app.'
								})}
								{@render ListItem({
									href: '/docs/primitives/typography',
									title: 'Typography',
									content: 'Styles for headings, paragraphs, lists...etc'
								})}
							</ul>
						</NavigationMenu.Content>
					</NavigationMenu.Item>
					<NavigationMenu.Item>
						<NavigationMenu.Trigger>Components</NavigationMenu.Trigger>
						<NavigationMenu.Content>
							<ul class="grid w-[400px] gap-2 p-2 md:w-[500px] md:grid-cols-2 lg:w-[600px]">
								{#each components as component, i (i)}
									{@render ListItem({
										href: component.href,
										title: component.title,
										content: component.description
									})}
								{/each}
							</ul>
						</NavigationMenu.Content>
					</NavigationMenu.Item>

					<NavigationMenu.Item>
						<NavigationMenu.Link>
							{#snippet child()}
								<a href="/docs" class={navigationMenuTriggerStyle()}>Docs</a>
							{/snippet}
						</NavigationMenu.Link>
					</NavigationMenu.Item>
					<NavigationMenu.Item>
						<NavigationMenu.Trigger>List</NavigationMenu.Trigger>
						<NavigationMenu.Content>
							<ul class="grid w-[300px] gap-4 p-2">
								<li>
									<NavigationMenu.Link href="#">
										<div class="font-medium">Components</div>
										<div class="text-muted-foreground">Browse all components in the library.</div>
									</NavigationMenu.Link>
									<NavigationMenu.Link href="#">
										<div class="font-medium">Documentation</div>
										<div class="text-muted-foreground">Learn how to use the library.</div>
									</NavigationMenu.Link>
									<NavigationMenu.Link href="#">
										<div class="font-medium">Blog</div>
										<div class="text-muted-foreground">Read our latest blog posts.</div>
									</NavigationMenu.Link>
								</li>
							</ul>
						</NavigationMenu.Content>
					</NavigationMenu.Item>
					<NavigationMenu.Item>
						<NavigationMenu.Trigger>Simple</NavigationMenu.Trigger>
						<NavigationMenu.Content>
							<ul class="grid w-[200px] gap-4 p-2">
								<li>
									<NavigationMenu.Link href="#">Components</NavigationMenu.Link>
									<NavigationMenu.Link href="#">Documentation</NavigationMenu.Link>
									<NavigationMenu.Link href="#">Blocks</NavigationMenu.Link>
								</li>
							</ul>
						</NavigationMenu.Content>
					</NavigationMenu.Item>
					<NavigationMenu.Item>
						<NavigationMenu.Trigger>With Icon</NavigationMenu.Trigger>

						<NavigationMenu.Content>
							<ul class="grid w-[200px] gap-4 p-2">
								<li>
									<NavigationMenu.Link href="#" class="flex-row items-center gap-2">
										<CircleHelpIcon />
										Backlog
									</NavigationMenu.Link>

									<NavigationMenu.Link href="#" class="flex-row items-center gap-2">
										<CircleIcon />
										To Do
									</NavigationMenu.Link>

									<NavigationMenu.Link href="#" class="flex-row items-center gap-2">
										<CircleCheckIcon />
										Done
									</NavigationMenu.Link>
								</li>
							</ul>
						</NavigationMenu.Content>
					</NavigationMenu.Item>
				</NavigationMenu.List>
			</NavigationMenu.Root>
		</div>
		<div>
			<header class="flex h-16 shrink-0 items-center gap-2 px-4">
				<Sidebar.Trigger class="-ml-1" />
				<Separator orientation="vertical" class="mr-2 data-[orientation=vertical]:h-4" />
				<Breadcrumb.Root>
					<Breadcrumb.List>
						<Breadcrumb.Item class="hidden md:block">
							<Breadcrumb.Link href="#">Building Your Application</Breadcrumb.Link>
						</Breadcrumb.Item>
						<Breadcrumb.Separator class="hidden md:block" />
						<Breadcrumb.Item>
							<Breadcrumb.Page>Data Fetching</Breadcrumb.Page>
						</Breadcrumb.Item>
					</Breadcrumb.List>
				</Breadcrumb.Root>
			</header>
		</div>
		<div class="flex flex-1 flex-col gap-4 p-4 pt-0">
			<div class="grid auto-rows-min gap-4 md:grid-cols-3">
				<div class="bg-muted/50 aspect-video rounded-xl"></div>
				<div class="bg-muted/50 aspect-video rounded-xl"></div>
				<div class="bg-muted/50 aspect-video rounded-xl"></div>
			</div>
			<div class="bg-muted/50 min-h-[100vh] flex-1 rounded-xl md:min-h-min"></div>
		</div>
	</Sidebar.Inset>
	<!-- <AppSidebar data={data} /> -->
</Sidebar.Provider>
